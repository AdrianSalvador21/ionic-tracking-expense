<ion-header class="ion-no-border" mode="md">
    <ion-toolbar color="secondary">
        <ion-buttons slot="start">
            <ion-back-button defaultHref="#" (click)="back()" color="primary"></ion-back-button>
        </ion-buttons>

        <ion-title slot="end">
            <img style="width: 4rem;" alt="logo" src="assets/images/public/branding/logo.svg" />
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content color="secondary">
    <div class="nr-container">
        <ion-text color="primary">
            <h2 class="nr-title w-100">{{isEditing?"Edita":"Crea"}} un gasto</h2>
        </ion-text>
        <ion-text color="tertiary">
            <h4 class="nr-subtitle">Agrega los detalles de tu gasto</h4>
        </ion-text>

        <div class="mt-2 w-100" *ngIf="showForm">
            <button class="btn upload-button mt-2" id="addBill" (click)="invoices()">Agregar factura</button>
            <ion-row *ngIf="imageUrl" style="margin-bottom: 0px;">
                <ion-col size="12">
                    <ion-card style="margin: 0 !important; margin-top: 2rem !important; margin-bottom: 2rem !important;">
                        <img style=" width: 100% !important; height:auto !important;" class="preview-img img-container" [src]="imageUrl | imageSanitizer" alt="img2" />
                        <ion-icon (click)="clearTicket()" name="close-circle-outline" class="cursor-pointer close" style="font-size: 2rem; height: 2rem; color: #ff3c2f !important; width: 2.6rem; margin-right: 0.2rem; font-weight: 500; margin-left: 0.2rem;cursor: pointer;"></ion-icon>
                    </ion-card>
                </ion-col>
            </ion-row>
            <input type="file" id="selectedFile" style="display: none;" accept="image/*" (change)="uploadTicket()" />
            <input type="button" class="btn upload-button mt-2" value="{{uploadTicketMessage}}" onclick="document.getElementById('selectedFile').click();" />
        </div>
        <!--
    <div class="w-100 mt-2r">
      <form class="example-form mt-2r">
        <mat-form-field class="w-100">
          <mat-label>Fecha</mat-label>
          <input matInput placeholder="Fecha" value="28/08/20" required>
        </mat-form-field>

        <mat-form-field class="w-100">
          <mat-label>Categoría</mat-label>
          <mat-select name="policy" [(ngModel)]="basicSelected" required>
            <mat-option value="">1</mat-option>
            <mat-option value="2">2</mat-option>
            <mat-option value="3">3</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="w-100">
          <mat-label>Método de pago</mat-label>
          <mat-select name="reportApprover" [(ngModel)]="basicSelected" required>
            <mat-option value="" >1</mat-option>
            <mat-option value="2">2</mat-option>
            <mat-option value="3">3</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field class="w-100">
          <mat-label>Monto</mat-label>
          <input matInput currencyMask placeholder="Cliente a visitar"  name="amount" [(ngModel)]="amount" required>
        </mat-form-field>

        <mat-form-field class="w-100">
          <mat-label>Comerciante</mat-label>
          <input matInput placeholder="Comerciante" value="Nombre del comerciante" required>
        </mat-form-field>

        <mat-form-field class="w-100">
          <mat-label>RFC comercio</mat-label>
          <input matInput placeholder="RFC comercio" value="123DRF" required>
        </mat-form-field>

        <mat-form-field class="w-100">
          <mat-label>Descripción del gasto</mat-label>
          <input matInput placeholder="Deescripción del gasto" value="Descripción" required>
        </mat-form-field>
      </form>
    </div>
    -->

        <div *ngIf="showForm">
            <div class="">
                <div class="">
                    <div class="w-100">
                        <app-dynamic-form [categories]="categories" [invoiceData]="invoiceData" [fields]="formData" (removeInvoiceEmitter)="removeInvoiceData()" (submit)="addExpense($event)" [showMb]="false">
                        </app-dynamic-form>
                    </div>
                </div>
            </div>
        </div>

        <!-- <div class="button-container display-center mt-3" style="margin-bottom: 4rem;">
      <ion-button class="new-report-button primary">Aceptar</ion-button>
      <ion-button class="new-report-button secondary mr-0">Cancelar</ion-button>
    </div> -->



    </div>
</ion-content>